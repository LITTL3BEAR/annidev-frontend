@use '@angular/material' as mat;
@use 'sass:map';

$minimal-primary: (
  50: #F5F0EB,
  100: #E0D0C5,
  200: #CCAF9B,
  300: #B78E71,
  400: #A26D47,
  500: #8C5946,
  600: #734837,
  700: #5A3728,
  800: #402B23,
  900: #2B1D17,
  contrast: (
    50: rgba(black, 0.87),
    100: rgba(black, 0.87),
    200: rgba(black, 0.87),
    300: rgba(black, 0.87),
    400: white,
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
  )
);

$minimal-accent: (
  50: #F7F3F0,
  100: #E5DBD3,
  200: #D3C3B6,
  300: #C1AB99,
  400: #AF937C,
  500: #9D7B5F,
  600: #8B6346,
  700: #704F38,
  800: #553B2A,
  900: #3A271C,
  contrast: (
    50: rgba(black, 0.87),
    100: rgba(black, 0.87),
    200: rgba(black, 0.87),
    300: rgba(black, 0.87),
    400: rgba(black, 0.87),
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
  )
);

$minimal-warn: (
  50: #FDF0EC,
  100: #FADAD0,
  200: #F6C1B1,
  300: #F2A892,
  400: #EF957A,
  500: #E76F51,
  600: #D46348,
  700: #BC573E,
  800: #A44B35,
  900: #8C3F2B,
  contrast: (
    50: rgba(black, 0.87),
    100: rgba(black, 0.87),
    200: rgba(black, 0.87),
    300: rgba(black, 0.87),
    400: rgba(black, 0.87),
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
  )
);

$minimal-primary: mat.define-palette($minimal-primary, 500, 100, 900);
$minimal-accent: mat.define-palette($minimal-accent, 500, 100, 900);
$minimal-warn: mat.define-palette($minimal-warn, 500, 100, 900);

$minimal-light-theme: mat.define-light-theme((
  color: (
    primary: $minimal-primary,
    accent: $minimal-accent,
    warn: $minimal-warn,
  )
));

$minimal-dark-theme: mat.define-dark-theme((
  color: (
    primary: $minimal-primary,
    accent: $minimal-accent,
    warn: $minimal-warn,
  )
));

@function create-theme-vars($theme) {
  $color-config: mat.get-color-config($theme);
  $primary-palette: map.get($color-config, 'primary');
  $accent-palette: map.get($color-config, 'accent');
  $warn-palette: map.get($color-config, 'warn');
  $is-dark: map.get($color-config, 'is-dark');

  @return (
    --primary: #{mat.get-color-from-palette($primary-palette, 500)},
    --accent: #{mat.get-color-from-palette($accent-palette, 500)},
    --warn: #{mat.get-color-from-palette($warn-palette, 500)},
    --background: #{if($is-dark, #402B23, #F2EEEB)},
    --text: #{if($is-dark, #F2EEEB, #402B23)},
    --card: #{if($is-dark, #5D3E31, #FFFFFF)},
    --is-dark: #{$is-dark}
  );
}

@mixin apply-theme-vars($theme) {
  $vars: create-theme-vars($theme);
  @each $name, $value in $vars {
    #{$name}: #{$value};
  }
}

@mixin theme-styles($theme) {
  $color-config: mat.get-color-config($theme);
  $is-dark: map.get($color-config, 'is-dark');

  body {
    background-color: var(--background);
    color: var(--text);
  }

  .mat-mdc-card {
    background-color: var(--card);
  }
}